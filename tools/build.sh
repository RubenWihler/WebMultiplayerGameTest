#!/bin/bash
# Ruben Wihler

echo '[+] Suppression des anciens fichiers ...';
rm -rf dist/*;

echo '[+] Copie de src dans dist ...';
cp -R src/client dist/client;
cp -R src/server dist/server;

echo '[+] Copie des fichiers de configuration ...';
cp .env dist/.env;

echo '[+] Suppression des fichiers inutiles ...';
find dist/ -name "*.ts" -type f -delete;

echo '[+] Compilation des fichiers TypeScript ...';
tsc --build tsconfig.json;

echo '[+] Build termine avec succes.';